<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rationalization of Permissible Works</title>
    <style>
        body {
            font-family: Calibri;
            background-color: #999999;
            color: #FFFFFF;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #444444;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 3.5);
        }
        h1, h2, h3, h4, h5 {
            text-align: center;
        }
        .header-box {
            margin-bottom: 20px;
            padding: 20px;
            background-color: #FF6933;
            border-radius: 10px;
	box-shadow: 0 0 10px rgba(0, 0, 0, 3.5);
        }
        .creator-box {
            margin-bottom: 20px;
            padding: 20px;
            background-color: black;
            border-radius: 10px;
	box-shadow: 0 0 10px rgba(0, 0, 0, 3.5);

        }
        .creator-box {
            margin-top: 20px;
            font-family: "Vrinda (Headings CS)", ;
            font-size: 12px;
            text-align: centre;
            box-shadow: 0 0 10px rgba(0, 0, 0, 3.5);
        }

        select, .data-display {
            width: calc(100% - 0px); /* Adjusting width to fit within the padding of the container */
            padding: 10px;
            margin-top: 10px;
            background-color: #666666;
            color: white;
            border: none;
            border-radius: 6px;

        }
        .data-display {
            display: none;
            margin-top: 20px;
            padding: 0px;
            background-color: #444444;
            border-radius: 0px;
        }
        .data-display div {
            margin-bottom: 20px;
            text-align: centre;
        }
        .yellow-text {
            color: yellow;
        }
	     .green-text {
            color: green;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header-box">
       <h2>265 Permissible Works for NREGASoft</h2>
       <h5>[Please check for the proper MIS head here before creating a New Work in NREGASoft]</h5>
       <h3>(As per Rationalization of Permissible Works)</h3>
    </div>

    <h3>Work Category [As per AMC 2022-23]</h3>
    <select id="workCategorySelect" onchange="filterTypeOfBeneficiary()">
        <option value="">Select Work Category</option>
    </select>

    <h3>Type of Beneficiary</h3>
    <select id="typeOfBeneficiarySelect" onchange="filterWorkType()">
        <option value="">Select Type of Beneficiary</option>
    </select>

    <h3>Work Type</h3>
    <select id="workTypeSelect" onchange="filterProposedStatus()">
        <option value="">Select Work Type</option>
    </select>

    <h3>Proposed Status</h3>
    <select id="proposedStatusSelect" onchange="showData()">
        <option value="">Select Proposed Status</option>
    </select>

    <div class="data-display" id="dataDisplay">
        <div id="workCategory"></div>
        <div id="majorWorkCategory"></div>
        <div id="majorHeads"></div>
        <div id="typeOfBeneficiary"></div>
        <div id="typeOfActivity"></div>
        <div id="workType"></div>
	<div id="proposedStatus"></div>
    </div>

    <div class="creator-box">
        <h3>Devised and Created by Dhrubajyoti Sarmah</h3>
        <h5>[For the best viewing experience, use a desktop or laptop, or landscape mode on mobile]</h5> 
    </div>
</div>

<script>
    const data = [
{proposedStatus: 'Along the coast Afforestation using forestry Trees for Community',majorWorkCategory: 'Category A -Public Works relating to Natural Resource Management',majorHeads: 'Afforestation',typeOfBeneficiary: 'Community',typeOfActivity: 'Construction/Plantation/Development/Reclamation',workType: 'Plantation',workCategory: 'NRM and Agri & Allied '},

        // Add all 266 data objects here
    ];

    const workCategorySelect = document.getElementById('workCategorySelect');
    const typeOfBeneficiarySelect = document.getElementById('typeOfBeneficiarySelect');
    const workTypeSelect = document.getElementById('workTypeSelect');
    const proposedStatusSelect = document.getElementById('proposedStatusSelect');

    // Populate Work Category dropdown
    const workCategories = [...new Set(data.map(item => item.workCategory))];
    workCategories.forEach(category => {
        const option = document.createElement('option');
        option.value = category;
        option.textContent = category;
        workCategorySelect.appendChild(option);
    });

    function filterTypeOfBeneficiary() {
        const selectedWorkCategory = workCategorySelect.value;
        const filteredBeneficiaries = [...new Set(data.filter(item => item.workCategory === selectedWorkCategory).map(item => item.typeOfBeneficiary))].sort();
        populateDropdown(typeOfBeneficiarySelect, filteredBeneficiaries);
        resetDropdown(workTypeSelect);
        resetDropdown(proposedStatusSelect);
        hideDataDisplay();
    }

    function filterWorkType() {
        const selectedWorkCategory = workCategorySelect.value;
        const selectedTypeOfBeneficiary = typeOfBeneficiarySelect.value;
        const filteredWorkTypes = [...new Set(data.filter(item => item.workCategory === selectedWorkCategory && item.typeOfBeneficiary === selectedTypeOfBeneficiary).map(item => item.workType))].
        sort();
        populateDropdown(workTypeSelect, filteredWorkTypes);
        resetDropdown(proposedStatusSelect);
        hideDataDisplay();
    }

    function filterProposedStatus() {
        const selectedWorkCategory = workCategorySelect.value;
        const selectedTypeOfBeneficiary = typeOfBeneficiarySelect.value;
        const selectedWorkType = workTypeSelect.value;
        const filteredProposedStatus = [...new Set(data.filter(item => item.workCategory === selectedWorkCategory && item.typeOfBeneficiary === selectedTypeOfBeneficiary && item.workType === selectedWorkType).map(item => item.proposedStatus))].sort();
        populateDropdown(proposedStatusSelect, filteredProposedStatus);
        hideDataDisplay();
    }

    function showData() {
    const selectedStatus = proposedStatusSelect.value;
    const selectedData = data.find(item => item.proposedStatus === selectedStatus);
    if (selectedData) {
        document.getElementById('workCategory').innerHTML = `<span class="green-text">*The Following are to be selected for the Proposed Status above in order to create a New Work in NREGASoft:</span>`;
        document.getElementById('majorWorkCategory').innerHTML = `1. Major Work Category : <span class="yellow-text">${selectedData.majorWorkCategory}</span>`;
        document.getElementById('majorHeads').innerHTML = `2. Major Heads (Schedule of Act) : <span class="yellow-text">${selectedData.majorHeads}</span>`;
        document.getElementById('typeOfBeneficiary').innerHTML = `3. Type of Beneficiary: <span class="yellow-text">${selectedData.typeOfBeneficiary}</span>`;
        document.getElementById('typeOfActivity').innerHTML = `4. Type of Activity : <span class="yellow-text">${selectedData.typeOfActivity}</span>`;
        document.getElementById('workType').innerHTML = `5. Work Type : <span class="yellow-text">${selectedData.workType}</span>`;
	document.getElementById('workType').innerHTML = `6. Proposed Status : <span class="yellow-text">${selectedData.proposedStatus}</span>`;
        document.getElementById('dataDisplay').style.display = 'block';
    } else {
        hideDataDisplay();
    }
}

    function populateDropdown(dropdown, options) {
        dropdown.innerHTML = '<option value="">Select...</option>';
        options.forEach(option => {
            const optionElement = document.createElement('option');
            optionElement.value = option;
            optionElement.textContent = option;
            dropdown.appendChild(optionElement);
        });
    }

    function resetDropdown(dropdown) {
        dropdown.innerHTML = '<option value="">Select...</option>';
    }

    function hideDataDisplay() {
        document.getElementById('dataDisplay').style.display = 'none';
    }
</script>

</body>
</html>
